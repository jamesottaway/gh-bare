# gh-bare

Like `gh repo`, but for bare repositories!

## Installation

```
gh extension install jamesottaway/gh-bare
```

## Commands

### gh bare clone

```
gh bare clone <repository> [<directory>]
```

1. Clones the repository, with the `--bare` flag, to avoid creating a main worktree
2. Configures the local clone to fetch remote branches
3. Creates a linked worktree for the default branch

#### Arguments

A repository can be supplied as an argument in any of the following formats:
  - `[OWNER]/REPO`, e.g. `github/.github` or `.github`
  - by URL, e.g. `https://github.com/OWNER/REPO` or `git@github.com:OWNER/REPO.git`

#### Examples

##### Cloning your own repository

```
> gh bare clone foo
Cloning into bare repository 'foo/.git'...
…
Configuring `remote.origin.fetch`...
…
Fetching remote branches...
…
Adding worktree for default branch...
…
```

##### Aliasing your own repository

```
> gh bare clone foo bar
Cloning into bare repository 'bar/.git'...
…
Configuring `remote.origin.fetch`...
…
Fetching remote branches...
…
Adding worktree for default branch...
…
```

##### Cloning someone else's repository

```
> gh bare clone username/foo
Cloning into bare repository 'foo/.git'...
…
Configuring `remote.origin.fetch`...
…
Fetching remote branches...
…
Adding worktree for default branch...
…
```

## Credit

Inspired by (and based on) [Workarounds to Git worktree using bare repository and cannot fetch remote branches](https://morgan.cugerone.com/blog/workarounds-to-git-worktree-using-bare-repository-and-cannot-fetch-remote-branches/) by [Morgan Cugerone](https://morgan.cugerone.com/about/)
